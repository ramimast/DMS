<header class="header">
  <div class="header-left">
    <img class="logo" src="./assets/Logo.png" alt="Logo">
    <div class="search-container">
      <div class="search-input-container">
        <input type="text" class="search-input" placeholder="Search in Items ( / )" [(ngModel)]="searchTerm"
          (keyup.enter)="onSearch()" (input)="filterItems()" (focus)="showList = true" />
        <span class="material-icons search-icon" (click)="toggleList()">search</span>
        <img class="arrow" src="./assets/arrow.png" alt="Arrow" (click)="toggleList()" />
      </div>
    </div>
  </div>

  <div class="header-right">
    <div class="organization me-2" (click)="openOrganization()">
      <span class="truncate" >
        imast operation private limited
      </span>   
      <!-- {{ user?.email }} -->
      <!-- <img  src="../../../assets/arrow.png" alt=""> -->
      <svg style="height: 12px; margin:4px; cursor:pointer " width="16" height="16" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg">
        <path d="M7 10l5 5 5-5H7z" fill="white"/>
      </svg>
      
      <!-- <ng-container *ngIf="isOpen; else downArrow">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M17 14l-5-5-5 5h10z" fill="currentColor"/>
        </svg>
      </ng-container>
      <ng-template #downArrow>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 10l5 5 5-5H7z" fill="currentColor"/>
        </svg>
      </ng-template> -->
    </div>

    <span style="font-size: 24px;" class="me-2"> | </span>

    <div ngbDropdown class="dropdown">
      <button class="dropdown-toggle Reports" ngbDropdownToggle> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
        <path d="M12 5c-.552 0-1 .448-1 1v5H6c-.552 0-1 .448-1 1s.448 1 1 1h5v5c0 .552.448 1 1 1s1-.448 1-1v-5h5c.552 0 1-.448 1-1s-.448-1-1-1h-5V6c0-.552-.448-1-1-1z"/>
      </svg></button>
      <div ngbDropdownMenu class="dropdown-menu" role="menu">
        <div class="row g-3">
          <div class="col-lg-4 col-4">
            <div class="col-megamenu">
              <h6 class="title"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 455 414" class="icon lpanel" style="height: 16px; width: 16px;"><circle cx="168.6" cy="380" r="33.8"></circle><circle cx="378.9" cy="380" r="33.8"></circle><path d="M343 320H173c-31 0-57-21-63-51L61 60v-1c-2-10-11-17-21-17H21a21 21 0 110-42h19c30 0 56 21 62 51l49 209c2 11 11 18 22 18h170c18 0 33-12 38-30l31-116c2-7 0-14-4-19s-10-9-17-9H202a21 21 0 110-42h189c20 0 38 9 51 25 12 16 16 36 11 56l-31 116c-10 36-42 61-79 61z"></path></svg> Sales</h6>
              <ul class="list-unstyled">
                <li><a class="dropdown-item" href="#">Sales by Customer</a></li>
                <li><a class="dropdown-item" href="#">Sales by Item</a></li>
                <li><a class="dropdown-item" href="#">Sales Order Summary</a></li>
                <li><a class="dropdown-item" href="#">Sales Order Details</a></li>
                <li><a class="dropdown-item" href="#">Invoice Summary</a></li>
                <li><a class="dropdown-item" href="#">Invoice Detials</a></li>
              </ul>
            </div>  <!-- col-megamenu.// -->
          </div><!-- end col-3 -->
          <div class="col-lg-4 col-4">
            <div class="col-megamenu">
              <h6 class="title"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 468 434" class="icon lpanel" style="height: 16px; width: 16px;"><path d="M464 238L415 76a81 81 0 00-101-53L151 72c-13 4-25 12-34 21l-15-49C96 26 82 13 64 9L25 0a21 21 0 10-8 42l38 8c3 0 6 3 7 6l36 117 40 133a76 76 0 10127 78l146-45c42-13 67-58 53-101zM227 364a34 34 0 01-23 26 34 34 0 1123-26zm171-65l-131 41-1-4a76 76 0 00-90-52l-38-123c-6-20 5-42 26-49l162-49c20-7 42 5 49 26l49 162c7 20-5 42-26 48z"></path><path d="M246 182a21 21 0 01-7-41l40-12a21 21 0 0112 40l-39 12-6 1z"></path></svg> Inventory</h6>
              <ul class="list-unstyled">
                <li><a class="dropdown-item" href="#">Inventory Summary</a></li>
                <li><a class="dropdown-item" href="#">Inventory Valuation Summary</a></li>
                <li><a class="dropdown-item" href="#">Product Sales Report</a></li>
              </ul>
            </div>  <!-- col-megamenu.// -->
          </div><!-- end col-3 -->
          <div class="col-lg-4 col-4">
            <div class="col-megamenu">
              <h6 class="title"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 370.8 447.1" class="icon lpanel" style="height: 16px; width: 16px;"><path d="M119.8 207.4a23.9 23.9 0 01-6.1-.9 22.2 22.2 0 01-8.8-5.2 22.5 22.5 0 01-4.5-6.8 22.2 22.2 0 01-1.5-10.1 20.5 20.5 0 013.4-9.6 22.1 22.1 0 015.8-5.8 19.6 19.6 0 015.6-2.6 20.2 20.2 0 0110.2-.5 22.3 22.3 0 019.2 4.3 20.2 20.2 0 016 8.2 19.3 19.3 0 011.6 6 20.5 20.5 0 01-2.4 12 24.2 24.2 0 01-3.7 4.9 22.5 22.5 0 01-6.8 4.5 22.2 22.2 0 01-8 1.6zm131.2 0a23.9 23.9 0 01-6.2-.9 22.2 22.2 0 01-8.7-5.2 22.5 22.5 0 01-4.6-6.8 22.2 22.2 0 01-1.5-10.1 20.5 20.5 0 013.5-9.6 22.1 22.1 0 015.8-5.8 19.6 19.6 0 015.5-2.6 20.2 20.2 0 0110.2-.5 22.3 22.3 0 019.3 4.3 20.2 20.2 0 016 8.2 19.3 19.3 0 011.5 6 20.5 20.5 0 01-2.4 12 24.2 24.2 0 01-3.6 4.9 22.5 22.5 0 01-6.8 4.5 22.2 22.2 0 01-8 1.6z"></path><path d="M370.3 366.7v-.3L343 154.7A72 72 0 00272 91v-4.5a86 86 0 00-25.4-61.2A86.7 86.7 0 0098.8 86.6V91a72 72 0 00-71.1 63.6L.5 366.4v.3A72.2 72.2 0 0072 447h226.6a72.2 72.2 0 0071.6-80.4zM140.8 86.6a44.6 44.6 0 0189.2 0V91h-89.2v-4.4zM321.1 395a29.7 29.7 0 01-22.4 10H72a29.8 29.8 0 01-30-33.5L69.4 160v-.2a30.1 30.1 0 0130-26.7h172.2a30 30 0 0129.9 26.7v.2l27.2 211.7c1 8.6-1.7 17-7.5 23.4z"></path></svg> Purchases</h6>
              <ul class="list-unstyled">
                <li><a class="dropdown-item" href="#">Purchase by Vendor</a></li>
                <li><a class="dropdown-item" href="#">Purchase by Item</a></li>
                <li><a class="dropdown-item" href="#">Purchase Order Summary</a></li>
                <li><a class="dropdown-item" href="#">Purchase Order Summary</a></li>
                <li><a class="dropdown-item" href="#">Purchase Order Details</a></li>
              </ul>
            </div>  <!-- col-megamenu.// -->
          </div>    
          <div class="col-lg-4 col-4">
            <div class="col-megamenu">
              <h6 class="title"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 370.8 447.1" class="icon lpanel" style="height: 16px; width: 16px;"><path d="M119.8 207.4a23.9 23.9 0 01-6.1-.9 22.2 22.2 0 01-8.8-5.2 22.5 22.5 0 01-4.5-6.8 22.2 22.2 0 01-1.5-10.1 20.5 20.5 0 013.4-9.6 22.1 22.1 0 015.8-5.8 19.6 19.6 0 015.6-2.6 20.2 20.2 0 0110.2-.5 22.3 22.3 0 019.2 4.3 20.2 20.2 0 016 8.2 19.3 19.3 0 011.6 6 20.5 20.5 0 01-2.4 12 24.2 24.2 0 01-3.7 4.9 22.5 22.5 0 01-6.8 4.5 22.2 22.2 0 01-8 1.6zm131.2 0a23.9 23.9 0 01-6.2-.9 22.2 22.2 0 01-8.7-5.2 22.5 22.5 0 01-4.6-6.8 22.2 22.2 0 01-1.5-10.1 20.5 20.5 0 013.5-9.6 22.1 22.1 0 015.8-5.8 19.6 19.6 0 015.5-2.6 20.2 20.2 0 0110.2-.5 22.3 22.3 0 019.3 4.3 20.2 20.2 0 016 8.2 19.3 19.3 0 011.5 6 20.5 20.5 0 01-2.4 12 24.2 24.2 0 01-3.6 4.9 22.5 22.5 0 01-6.8 4.5 22.2 22.2 0 01-8 1.6z"></path><path d="M370.3 366.7v-.3L343 154.7A72 72 0 00272 91v-4.5a86 86 0 00-25.4-61.2A86.7 86.7 0 0098.8 86.6V91a72 72 0 00-71.1 63.6L.5 366.4v.3A72.2 72.2 0 0072 447h226.6a72.2 72.2 0 0071.6-80.4zM140.8 86.6a44.6 44.6 0 0189.2 0V91h-89.2v-4.4zM321.1 395a29.7 29.7 0 01-22.4 10H72a29.8 29.8 0 01-30-33.5L69.4 160v-.2a30.1 30.1 0 0130-26.7h172.2a30 30 0 0129.9 26.7v.2l27.2 211.7c1 8.6-1.7 17-7.5 23.4z"></path></svg> Payable</h6>
              <ul class="list-unstyled">
                <li><a class="dropdown-item" href="#">Puchase Bill Summary</a></li>
                <li><a class="dropdown-item" href="#">Purchase Bill Detials</a></li>
              </ul>
            </div>  <!-- col-megamenu.// -->
          </div>
          <div class="col-lg-4 col-4">
            <div class="col-megamenu">
              <h6 class="title"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 383.2 468.4" class="icon lpanel" style="height: 16px; width: 16px;"><path d="M141.2 192.9a21 21 0 110-42 21 21 0 110 42zm4.8 128a21 21 0 01-17.3-33l91-131.5a21 21 0 0134.6 23.9l-91 131.5a21 21 0 01-17.4 9zm95.8-3.6a21 21 0 110-42 21 21 0 110 42z"></path><path d="M302.2 468.4H81c-44.7 0-81-36.3-81-81V81C0 36.3 36.3 0 81 0h221.2c44.6 0 81 36.3 81 81v306.4c0 44.7-36.4 81-81 81zM81 42a39 39 0 00-39 39v306.4a39 39 0 0039 39h221.2a39 39 0 0039-39V81a39 39 0 00-39-39H81z"></path></svg> Taxes</h6>
              <ul class="list-unstyled">
                <li><a class="dropdown-item" href="#">Tax Summary</a></li>
              </ul>
            </div>  <!-- col-megamenu.// -->
          </div><!-- end col-3 -->
        </div><!-- end row --> 
      </div> <!-- dropdown-mega-menu.// -->
    </div>
    <button class="icon-button">
      <span class="material-icons" (click)="openNotifications()">notifications</span>
    </button>
    <div class="user-menu" (click)="openUserDetials()">
      <img class="user-avatar" src="../../../assets/employee_profile.png" alt="User Avatar">
    </div>
  </div>
</header>

<!-- Dropdown list -->
<div class="dropdown-wrapper" *ngIf="showList">
  <div class="search-list">
    <ul>
      <li *ngFor="let item of filteredItems" (click)="selectItem(item)">{{ item }}</li>
    </ul>
  </div>
</div>